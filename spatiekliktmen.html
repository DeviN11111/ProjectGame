<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <p>Elapsed time: <span id="time">0</span>s</p>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/dwDns8x3Jb4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    <script>
        function timertieMen() {
            class Timer {
                constructor() {
                    this.isRunning = false;
                    this.startTime = 0;
                    this.overallTime = 0;
                }

                _getTimeElapsedSinceLastStart() {
                    if (!this.startTime) {
                        return 0;
                    }

                    return Date.now() - this.startTime;
                }

                start() {
                    if (this.isRunning) {
                        return console.error('Timer is already running');
                    }

                    this.isRunning = true;

                    this.startTime = Date.now();
                }

                stop() {
                    if (!this.isRunning) {
                        return console.error('Timer is already stopped');
                    }

                    this.isRunning = false;

                    this.overallTime = this.overallTime + this._getTimeElapsedSinceLastStart();
                }

                reset() {
                    this.overallTime = 0;

                    if (this.isRunning) {
                        this.startTime = Date.now();
                        return;
                    }

                    this.startTime = 0;
                }

                getTime() {
                    if (!this.startTime) {
                        return 0;
                    }

                    if (this.isRunning) {
                        return this.overallTime + this._getTimeElapsedSinceLastStart();
                    }

                    return this.overallTime;
                }
            }

            const timer = new Timer();
            timer.start();
            setInterval(() => {
                timeInMS = Math.round(timer.getTime() / 1);
                document.getElementById('time').innerText = timeInMS;

            }, 100)
        }

        var timeInMS;
        var firstPress = true;
        var timeStampsNofilter = [];
        var timeStampsfilter = [];

        document.addEventListener("keypress", function(e) {
            if (e.code == "Space") {
                timeStampsNofilter.push(timeInMS)
                console.log(timeStampsNofilter)
            }
            if (e.code == "KeyR") {
                filterStamps();
                console.log(timeStampsfilter)
            }
        })
        document.onclick = function() {
            if (firstPress == true) {
                timertieMen();
                firstPress = false
            }
        }

        function filterStamps() {
            timeStampsfilter.push(timeStampsNofilter[0])
            for (i = 0; i < timeStampsNofilter.length - 1; i++) {
                timeStampsfilter.push(timeStampsNofilter[i + 1] - timeStampsNofilter[i])
            }
        }
var wiiSong = [
    801,
    401,
    200,
    399,
    501,
    300,
    300,
    200,
    1699,
    301,
    300,
    499,
    601,
    298,
    802,
    299,
    1000,
    500,
    300,
    499,
    501,
    500,
    600,
    200,
    600,
    500,
    301,
    200,
    1099,
    299,
    200,
    1100,
    501,
    500,
    600,
    300,
    399,
    501,
    300,
    299,
    301,
    499,
    201,
    299,
    801,
    300,
    200,
    500,
    500,
    400,
    999,
    1001,
    500,
    299,
    500,
    300,
    302,
    199,
    299,
    201,
    300,
    600,
    200,
    299,
    301,
    300,
    200,
    1299,
    300,
    301,
    199,
    300,
    201,
    2100,
    499,
    501,
    800,
    299,
    1601,
    300,
    200,
    199,
    300,
    302,
    199,
    800,
    300,
    1999,
    601,
    600,
    700,
    299,
    1600,
    200,
    301,
    199,
    301,
    299,
    201,
    800,
    299,
    1001,
    300,
    599,
    200,
    301,
    300,
    801,
    399,
    200,
    399,
    400,
    301,
    300,
    199,
    2001,
    200,
    299,
    501,
    499,
    300,
    301,
    600,
    199,
    900,
    601,
    299,
    500,
    501,
    499,
    500,
    301,
    500,
    500,
    299,
    301,
    1099,
    300,
    201,
    1200,
    399,
    500,
    500,
    300,
    500,
    400,
    301,
    300,
    300
]
    </script>
</body>

</html>